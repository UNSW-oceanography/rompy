
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SWAN procedural example &#8212; rompy 0.1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script src="../../_static/documentation_options.js?v=01f34227"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/swan/example_procedural';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">rompy 0.1.0 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../quickstart.html">
                        Quickstart
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../core_concepts.html">
                        Core Concepts
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../models.html">
                        Models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../demo.html">
                        Demonstration notebooks
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../../api.html">
                        API  Documentation
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/rom-py/rompy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../quickstart.html">
                        Quickstart
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../core_concepts.html">
                        Core Concepts
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../models.html">
                        Models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../demo.html">
                        Demonstration notebooks
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../../api.html">
                        API  Documentation
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/rom-py/rompy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../core_concepts.html">Core Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../demo.html">Demonstration notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API  Documentation</a></li>
</ul>
</div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">SWAN...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="SWAN-procedural-example">
<h1>SWAN procedural example<a class="headerlink" href="#SWAN-procedural-example" title="Link to this heading">#</a></h1>
<p>In this notebook we will use the SWAN Components and data objects to define a SWAN workspace</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2

<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">cartopy</span> <span class="kn">import</span> <span class="n">crs</span> <span class="k">as</span> <span class="n">ccrs</span>
</pre></div>
</div>
</div>
<section id="Workspace-basepath">
<h2>Workspace basepath<a class="headerlink" href="#Workspace-basepath" title="Link to this heading">#</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">workdir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;example_procedural&quot;</span><span class="p">)</span>
<span class="n">workdir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Model-Grid">
<h2>Model Grid<a class="headerlink" href="#Model-Grid" title="Link to this heading">#</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.grid</span> <span class="kn">import</span> <span class="n">SwanGrid</span>

<span class="n">grid</span> <span class="o">=</span> <span class="n">SwanGrid</span><span class="p">(</span>
    <span class="n">x0</span><span class="o">=</span><span class="mf">110.0</span><span class="p">,</span>
    <span class="n">y0</span><span class="o">=-</span><span class="mf">35.2</span><span class="p">,</span>
    <span class="n">rot</span><span class="o">=</span><span class="mf">4.0</span><span class="p">,</span>
    <span class="n">dx</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">dy</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">nx</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
    <span class="n">ny</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fscale</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_swan_example_procedural_5_0.png" src="../../_images/notebooks_swan_example_procedural_5_0.png" />
</div>
</div>
</section>
<section id="Work-with-existing-data">
<h2>Work with existing data<a class="headerlink" href="#Work-with-existing-data" title="Link to this heading">#</a></h2>
<p>We will work with subsets of global bathymetry from Gebco and winds from ERA5 available in Rompy. This exercise assumes any processing to the raw forcing data is done with tools outside rompy to handle interpolation or any other required data manipulation.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.core.types</span> <span class="kn">import</span> <span class="n">DatasetCoords</span>
<span class="kn">from</span> <span class="nn">rompy.core.data</span> <span class="kn">import</span> <span class="n">SourceDataset</span>
<span class="kn">from</span> <span class="nn">rompy.swan.data</span> <span class="kn">import</span> <span class="n">SwanDataGrid</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DATADIR</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;../../tests/data&quot;</span><span class="p">)</span>
<span class="nb">list</span><span class="p">(</span><span class="n">DATADIR</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[PosixPath(&#39;../../tests/data/catalog.yaml&#39;),
 PosixPath(&#39;../../tests/data/aus-20230101.nc&#39;),
 PosixPath(&#39;../../tests/data/gebco-1deg.nc&#39;),
 PosixPath(&#39;../../tests/data/era5-20230101.nc&#39;)]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_fancy_interpolation</span><span class="p">(</span><span class="n">dset</span><span class="p">:</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">,</span> <span class="n">grid</span><span class="p">:</span> <span class="n">SwanGrid</span><span class="p">,</span> <span class="n">coords</span><span class="p">:</span> <span class="n">DatasetCoords</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">xr</span><span class="o">.</span><span class="n">Dataset</span><span class="p">:</span>
    <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">bbox</span><span class="p">()</span>
    <span class="n">xarr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="o">+</span><span class="n">grid</span><span class="o">.</span><span class="n">dx</span><span class="p">,</span> <span class="n">grid</span><span class="o">.</span><span class="n">dx</span><span class="p">)</span>
    <span class="n">yarr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">y0</span><span class="p">,</span> <span class="n">y1</span><span class="o">+</span><span class="n">grid</span><span class="o">.</span><span class="n">dy</span><span class="p">,</span> <span class="n">grid</span><span class="o">.</span><span class="n">dy</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">dset</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">coords</span><span class="o">.</span><span class="n">x</span><span class="p">:</span> <span class="n">xarr</span><span class="p">,</span> <span class="n">coords</span><span class="o">.</span><span class="n">y</span><span class="p">:</span> <span class="n">yarr</span><span class="p">})</span>
</pre></div>
</div>
</div>
<section id="Bathy">
<h3>Bathy<a class="headerlink" href="#Bathy" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Open the global dataset</span>

<span class="n">gebco</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">DATADIR</span> <span class="o">/</span> <span class="s2">&quot;gebco-1deg.nc&quot;</span><span class="p">)</span>
<span class="n">gebco</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:    (lat: 181, lon: 360)
Coordinates:
  * lon        (lon) int64 0 1 2 3 4 5 6 7 8 ... 352 353 354 355 356 357 358 359
  * lat        (lat) int64 -90 -89 -88 -87 -86 -85 -84 ... 84 85 86 87 88 89 90
Data variables:
    elevation  (lat, lon) float64 ...
Attributes:
    title:    Subset of the GEBCO 2020 grid for testing purposes</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-6344129b-65c7-4e4a-a020-22e109d4755c' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-6344129b-65c7-4e4a-a020-22e109d4755c' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>lat</span>: 181</li><li><span class='xr-has-index'>lon</span>: 360</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-d42b1982-9115-4395-b559-ea084b72676f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d42b1982-9115-4395-b559-ea084b72676f' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 ... 355 356 357 358 359</div><input id='attrs-bce721c9-df76-4ddf-b26f-a7fe82c7d707' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-bce721c9-df76-4ddf-b26f-a7fe82c7d707' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9fb25c58-f1eb-4fa6-a422-5f10767e5f7c' class='xr-var-data-in' type='checkbox'><label for='data-9fb25c58-f1eb-4fa6-a422-5f10767e5f7c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd><dt><span>sdn_parameter_urn :</span></dt><dd>SDN:P01::ALONZZ01</dd><dt><span>sdn_parameter_name :</span></dt><dd>Longitude east</dd><dt><span>sdn_uom_urn :</span></dt><dd>SDN:P06::DEGE</dd><dt><span>sdn_uom_name :</span></dt><dd>Degrees east</dd></dl></div><div class='xr-var-data'><pre>array([  0,   1,   2, ..., 357, 358, 359])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>-90 -89 -88 -87 -86 ... 87 88 89 90</div><input id='attrs-c3418e8b-ba57-4436-ae1f-0a3d6af4ef9c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c3418e8b-ba57-4436-ae1f-0a3d6af4ef9c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3fc21845-f6a6-4ac4-b53f-b57c27407cac' class='xr-var-data-in' type='checkbox'><label for='data-3fc21845-f6a6-4ac4-b53f-b57c27407cac' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd><dt><span>sdn_parameter_urn :</span></dt><dd>SDN:P01::ALATZZ01</dd><dt><span>sdn_parameter_name :</span></dt><dd>Latitude north</dd><dt><span>sdn_uom_urn :</span></dt><dd>SDN:P06::DEGN</dd><dt><span>sdn_uom_name :</span></dt><dd>Degrees north</dd></dl></div><div class='xr-var-data'><pre>array([-90, -89, -88, -87, -86, -85, -84, -83, -82, -81, -80, -79, -78, -77,
       -76, -75, -74, -73, -72, -71, -70, -69, -68, -67, -66, -65, -64, -63,
       -62, -61, -60, -59, -58, -57, -56, -55, -54, -53, -52, -51, -50, -49,
       -48, -47, -46, -45, -44, -43, -42, -41, -40, -39, -38, -37, -36, -35,
       -34, -33, -32, -31, -30, -29, -28, -27, -26, -25, -24, -23, -22, -21,
       -20, -19, -18, -17, -16, -15, -14, -13, -12, -11, -10,  -9,  -8,  -7,
        -6,  -5,  -4,  -3,  -2,  -1,   0,   1,   2,   3,   4,   5,   6,   7,
         8,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19,  20,  21,
        22,  23,  24,  25,  26,  27,  28,  29,  30,  31,  32,  33,  34,  35,
        36,  37,  38,  39,  40,  41,  42,  43,  44,  45,  46,  47,  48,  49,
        50,  51,  52,  53,  54,  55,  56,  57,  58,  59,  60,  61,  62,  63,
        64,  65,  66,  67,  68,  69,  70,  71,  72,  73,  74,  75,  76,  77,
        78,  79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,  90])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-79d7770c-6a79-4827-9dc2-c4bee0279466' class='xr-section-summary-in' type='checkbox'  checked><label for='section-79d7770c-6a79-4827-9dc2-c4bee0279466' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>elevation</span></div><div class='xr-var-dims'>(lat, lon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-0f53c639-2534-4089-be45-6d95e41ae301' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-0f53c639-2534-4089-be45-6d95e41ae301' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2e4f7b6f-a1dc-4c96-a7e4-3ccd1564ed1e' class='xr-var-data-in' type='checkbox'><label for='data-2e4f7b6f-a1dc-4c96-a7e4-3ccd1564ed1e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>height_above_reference_ellipsoid</dd><dt><span>long_name :</span></dt><dd>Elevation relative to sea level</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>sdn_parameter_urn :</span></dt><dd>SDN:P01::BATHHGHT</dd><dt><span>sdn_parameter_name :</span></dt><dd>Sea floor height (above mean sea level) {bathymetric height}</dd><dt><span>sdn_uom_urn :</span></dt><dd>SDN:P06::ULAA</dd><dt><span>sdn_uom_name :</span></dt><dd>Metres</dd></dl></div><div class='xr-var-data'><pre>[65160 values with dtype=float64]</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-3f4faaf1-8861-4ee5-83f4-80586a364700' class='xr-section-summary-in' type='checkbox'  ><label for='section-3f4faaf1-8861-4ee5-83f4-80586a364700' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>lon</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-5c1e78c1-45d7-453d-9c9f-1c1b836f650d' class='xr-index-data-in' type='checkbox'/><label for='index-5c1e78c1-45d7-453d-9c9f-1c1b836f650d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,
       ...
       350, 351, 352, 353, 354, 355, 356, 357, 358, 359],
      dtype=&#x27;int64&#x27;, name=&#x27;lon&#x27;, length=360))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>lat</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-f3a60ff3-0126-43cd-9401-39d1c9fcf3b6' class='xr-index-data-in' type='checkbox'/><label for='index-f3a60ff3-0126-43cd-9401-39d1c9fcf3b6' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([-90, -89, -88, -87, -86, -85, -84, -83, -82, -81,
       ...
        81,  82,  83,  84,  85,  86,  87,  88,  89,  90],
      dtype=&#x27;int64&#x27;, name=&#x27;lat&#x27;, length=181))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-25e9a76f-afc9-46e6-81ce-12a5d5a9ce2d' class='xr-section-summary-in' type='checkbox'  checked><label for='section-25e9a76f-afc9-46e6-81ce-12a5d5a9ce2d' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>title :</span></dt><dd>Subset of the GEBCO 2020 grid for testing purposes</dd></dl></div></li></ul></div></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Process it into the model bathy</span>

<span class="n">dset</span> <span class="o">=</span> <span class="n">my_fancy_interpolation</span><span class="p">(</span><span class="n">gebco</span><span class="p">,</span> <span class="n">grid</span><span class="p">,</span> <span class="n">DatasetCoords</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;lat&quot;</span><span class="p">))</span>
<span class="n">dset</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:    (lat: 26, lon: 17)
Coordinates:
  * lon        (lon) float64 109.2 109.7 110.2 110.7 ... 115.7 116.2 116.7 117.2
  * lat        (lat) float64 -35.2 -34.7 -34.2 -33.7 ... -24.2 -23.7 -23.2 -22.7
Data variables:
    elevation  (lat, lon) float64 -5.397e+03 -5.055e+03 ... 343.3 422.0
Attributes:
    title:    Subset of the GEBCO 2020 grid for testing purposes</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-9f7bf4fe-2952-4f80-b1c5-2d472160e9f5' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-9f7bf4fe-2952-4f80-b1c5-2d472160e9f5' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>lat</span>: 26</li><li><span class='xr-has-index'>lon</span>: 17</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-a6a9d3fc-51a9-408a-b283-a57a36832a50' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a6a9d3fc-51a9-408a-b283-a57a36832a50' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lon</span></div><div class='xr-var-dims'>(lon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>109.2 109.7 110.2 ... 116.7 117.2</div><input id='attrs-b3a42934-7232-437f-aba7-c5606ea32db1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b3a42934-7232-437f-aba7-c5606ea32db1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8a318375-8b40-4933-a60a-7cfe47c1e18c' class='xr-var-data-in' type='checkbox'><label for='data-8a318375-8b40-4933-a60a-7cfe47c1e18c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>long_name :</span></dt><dd>longitude</dd><dt><span>units :</span></dt><dd>degrees_east</dd><dt><span>axis :</span></dt><dd>X</dd><dt><span>sdn_parameter_urn :</span></dt><dd>SDN:P01::ALONZZ01</dd><dt><span>sdn_parameter_name :</span></dt><dd>Longitude east</dd><dt><span>sdn_uom_urn :</span></dt><dd>SDN:P06::DEGE</dd><dt><span>sdn_uom_name :</span></dt><dd>Degrees east</dd></dl></div><div class='xr-var-data'><pre>array([109.162922, 109.662922, 110.162922, 110.662922, 111.162922, 111.662922,
       112.162922, 112.662922, 113.162922, 113.662922, 114.162922, 114.662922,
       115.162922, 115.662922, 116.162922, 116.662922, 117.162922])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>lat</span></div><div class='xr-var-dims'>(lat)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-35.2 -34.7 -34.2 ... -23.2 -22.7</div><input id='attrs-40e819ba-f124-411d-8571-4753a75ce1fe' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-40e819ba-f124-411d-8571-4753a75ce1fe' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b28e133e-faad-44f8-bca4-d0f646e18105' class='xr-var-data-in' type='checkbox'><label for='data-b28e133e-faad-44f8-bca4-d0f646e18105' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>long_name :</span></dt><dd>latitude</dd><dt><span>units :</span></dt><dd>degrees_north</dd><dt><span>axis :</span></dt><dd>Y</dd><dt><span>sdn_parameter_urn :</span></dt><dd>SDN:P01::ALATZZ01</dd><dt><span>sdn_parameter_name :</span></dt><dd>Latitude north</dd><dt><span>sdn_uom_urn :</span></dt><dd>SDN:P06::DEGN</dd><dt><span>sdn_uom_name :</span></dt><dd>Degrees north</dd></dl></div><div class='xr-var-data'><pre>array([-35.2, -34.7, -34.2, -33.7, -33.2, -32.7, -32.2, -31.7, -31.2, -30.7,
       -30.2, -29.7, -29.2, -28.7, -28.2, -27.7, -27.2, -26.7, -26.2, -25.7,
       -25.2, -24.7, -24.2, -23.7, -23.2, -22.7])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-17432b30-e12b-47ca-b391-6c41c807e32d' class='xr-section-summary-in' type='checkbox'  checked><label for='section-17432b30-e12b-47ca-b391-6c41c807e32d' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>elevation</span></div><div class='xr-var-dims'>(lat, lon)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-5.397e+03 -5.055e+03 ... 422.0</div><input id='attrs-28e26383-8a3b-419a-8331-a4f0e95db04d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-28e26383-8a3b-419a-8331-a4f0e95db04d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4680fbd8-bb62-483e-a564-9e7a68ddb62f' class='xr-var-data-in' type='checkbox'><label for='data-4680fbd8-bb62-483e-a564-9e7a68ddb62f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>height_above_reference_ellipsoid</dd><dt><span>long_name :</span></dt><dd>Elevation relative to sea level</dd><dt><span>units :</span></dt><dd>m</dd><dt><span>sdn_parameter_urn :</span></dt><dd>SDN:P01::BATHHGHT</dd><dt><span>sdn_parameter_name :</span></dt><dd>Sea floor height (above mean sea level) {bathymetric height}</dd><dt><span>sdn_uom_urn :</span></dt><dd>SDN:P06::ULAA</dd><dt><span>sdn_uom_name :</span></dt><dd>Metres</dd></dl></div><div class='xr-var-data'><pre>array([[-5.39673752e+03, -5.05460122e+03, -4.63601884e+03,
        -4.05927354e+03, -3.66337384e+03, -3.64163414e+03,
        -3.70276106e+03, -3.93533466e+03, -3.93694232e+03,
        -3.46069362e+03, -2.88378672e+03, -2.09862332e+03,
        -1.46811240e+03, -1.15756930e+03, -9.23004043e+02,
        -8.45632943e+02, -8.06937841e+02],
       [-5.13490949e+03, -4.50300984e+03, -3.89859714e+03,
        -3.35105349e+03, -2.98696105e+03, -3.00241950e+03,
        -3.09208214e+03, -3.33526934e+03, -3.29812905e+03,
        -2.68100595e+03, -1.96946733e+03, -1.06258798e+03,
        -3.71821484e+02, -1.28181084e+02,  4.88226392e+01,
         8.79585892e+01,  1.03006133e+02],
       [-4.78767109e+03, -3.70822869e+03, -2.90128071e+03,
        -2.65810931e+03, -2.53651399e+03, -2.66645319e+03,
        -2.81131200e+03, -2.98703870e+03, -2.88727002e+03,
        -2.21751592e+03, -1.50219164e+03, -6.92585037e+02,
        -9.26300326e+01,  7.35668674e+01,  1.91213667e+02,
         2.08412867e+02,  2.16158402e+02],
       [-4.71849557e+03, -3.58746197e+03, -2.80042571e+03,
        -2.72510181e+03, -2.73644077e+03, -2.92708062e+03,
...
         1.97491145e+02,  2.63135145e+02,  3.24263753e+02,
         3.76050253e+02,  4.19040577e+02],
       [-3.22717943e+03, -4.03701918e+03, -4.36470193e+03,
        -3.69482723e+03, -3.00136019e+03, -2.25908184e+03,
        -1.55156109e+03, -9.15951988e+02, -4.09730821e+02,
        -1.71206471e+02,  1.77132635e+01,  1.04003663e+02,
         1.83863031e+02,  2.50416931e+02,  3.13859618e+02,
         3.70865368e+02,  4.21983382e+02],
       [-3.53947410e+03, -4.18505510e+03, -4.57127104e+03,
        -4.42087434e+03, -4.07031898e+03, -3.30564588e+03,
        -2.48452443e+03, -1.54661433e+03, -7.74942340e+02,
        -3.47208240e+02, -2.96241906e+01,  6.00652094e+01,
         1.43966305e+02,  2.15891705e+02,  2.87684030e+02,
         3.59201030e+02,  4.26412189e+02],
       [-3.89163354e+03, -4.34846244e+03, -4.68482305e+03,
        -4.77194110e+03, -4.62750527e+03, -4.00399667e+03,
        -3.23228993e+03, -2.15396903e+03, -1.21748125e+03,
        -5.74438754e+02, -1.05447174e+02,  3.44222627e+00,
         1.00844153e+02,  1.74479103e+02,  2.53412629e+02,
         3.43308629e+02,  4.21966997e+02]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f52e7109-b39e-400c-9efc-6ef6cc1b35a0' class='xr-section-summary-in' type='checkbox'  ><label for='section-f52e7109-b39e-400c-9efc-6ef6cc1b35a0' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>lon</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-09402953-486f-48e4-87a2-393955110c4d' class='xr-index-data-in' type='checkbox'/><label for='index-09402953-486f-48e4-87a2-393955110c4d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([109.1629223150705, 109.6629223150705, 110.1629223150705,
       110.6629223150705, 111.1629223150705, 111.6629223150705,
       112.1629223150705, 112.6629223150705, 113.1629223150705,
       113.6629223150705, 114.1629223150705, 114.6629223150705,
       115.1629223150705, 115.6629223150705, 116.1629223150705,
       116.6629223150705, 117.1629223150705],
      dtype=&#x27;float64&#x27;, name=&#x27;lon&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>lat</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-ddc47cce-e3cb-47b8-804f-d718f33db762' class='xr-index-data-in' type='checkbox'/><label for='index-ddc47cce-e3cb-47b8-804f-d718f33db762' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([              -35.2,               -34.7,               -34.2,
                     -33.7,               -33.2,               -32.7,
                     -32.2, -31.700000000000003, -31.200000000000003,
       -30.700000000000003, -30.200000000000003, -29.700000000000003,
       -29.200000000000003, -28.700000000000003, -28.200000000000003,
       -27.700000000000003, -27.200000000000003, -26.700000000000003,
       -26.200000000000003, -25.700000000000003, -25.200000000000003,
       -24.700000000000003, -24.200000000000003, -23.700000000000003,
       -23.200000000000003, -22.700000000000003],
      dtype=&#x27;float64&#x27;, name=&#x27;lat&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-6a69c813-a6fa-47d5-a4d1-d060bc1a2756' class='xr-section-summary-in' type='checkbox'  checked><label for='section-6a69c813-a6fa-47d5-a4d1-d060bc1a2756' class='xr-section-summary' >Attributes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>title :</span></dt><dd>Subset of the GEBCO 2020 grid for testing purposes</dd></dl></div></li></ul></div></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create and plot the data instance</span>

<span class="n">bottom</span> <span class="o">=</span> <span class="n">SwanDataGrid</span><span class="p">(</span>
    <span class="n">var</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span>
    <span class="n">source</span><span class="o">=</span><span class="n">SourceDataset</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="n">dset</span><span class="p">),</span>
    <span class="n">z1</span><span class="o">=</span><span class="s2">&quot;elevation&quot;</span><span class="p">,</span>
    <span class="n">fac</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;lon&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;lat&quot;</span><span class="p">},</span>
    <span class="n">crop_grid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># So data isn&#39;t cropped to model grid inside SwanConfig</span>
<span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">bottom</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="s2">&quot;elevation&quot;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">5000</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;turbo_r&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_swan_example_procedural_13_0.png" src="../../_images/notebooks_swan_example_procedural_13_0.png" />
</div>
</div>
</section>
<section id="Winds">
<h3>Winds<a class="headerlink" href="#Winds" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Open the global dataset</span>

<span class="n">projection</span> <span class="o">=</span> <span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">()</span>

<span class="n">era5</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">DATADIR</span> <span class="o">/</span> <span class="s2">&quot;era5-20230101.nc&quot;</span><span class="p">)</span>
<span class="n">fu</span> <span class="o">=</span> <span class="n">era5</span><span class="o">.</span><span class="n">u10</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">subplot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;projection&quot;</span><span class="p">:</span> <span class="n">projection</span><span class="p">})</span>
<span class="n">fv</span> <span class="o">=</span> <span class="n">era5</span><span class="o">.</span><span class="n">v10</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">subplot_kws</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;projection&quot;</span><span class="p">:</span> <span class="n">projection</span><span class="p">})</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="p">[</span><span class="n">fu</span><span class="p">,</span> <span class="n">fv</span><span class="p">]:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">coastlines</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_swan_example_procedural_15_0.png" src="../../_images/notebooks_swan_example_procedural_15_0.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_swan_example_procedural_15_1.png" src="../../_images/notebooks_swan_example_procedural_15_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Process it into the model forcing</span>

<span class="n">dset</span> <span class="o">=</span> <span class="n">my_fancy_interpolation</span><span class="p">(</span><span class="n">era5</span><span class="p">,</span> <span class="n">grid</span><span class="p">,</span> <span class="n">DatasetCoords</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;longitude&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;latitude&quot;</span><span class="p">))</span>
<span class="n">dset</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:    (time: 5, latitude: 26, longitude: 17)
Coordinates:
  * time       (time) datetime64[ns] 2023-01-01 ... 2023-01-02
  * longitude  (longitude) float64 109.2 109.7 110.2 110.7 ... 116.2 116.7 117.2
  * latitude   (latitude) float64 -35.2 -34.7 -34.2 -33.7 ... -23.7 -23.2 -22.7
Data variables:
    u10        (time, latitude, longitude) float64 1.002 1.002 ... 2.092 1.241
    v10        (time, latitude, longitude) float64 5.547 5.683 ... 3.777 3.127
Attributes:
    Conventions:  CF-1.6
    history:      2023-06-10 00:03:38 GMT by grib_to_netcdf-2.25.1: /opt/ecmw...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-e1e7d62f-2fd9-4537-9935-91296d3ba79c' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-e1e7d62f-2fd9-4537-9935-91296d3ba79c' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 5</li><li><span class='xr-has-index'>latitude</span>: 26</li><li><span class='xr-has-index'>longitude</span>: 17</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-906f613c-694a-4fff-b57d-0ecc8679deca' class='xr-section-summary-in' type='checkbox'  checked><label for='section-906f613c-694a-4fff-b57d-0ecc8679deca' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2023-01-01 ... 2023-01-02</div><input id='attrs-13ebb01c-8c90-486d-81dc-4458d216a863' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-13ebb01c-8c90-486d-81dc-4458d216a863' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a0560608-3909-4850-b17c-51c55344ba8f' class='xr-var-data-in' type='checkbox'><label for='data-a0560608-3909-4850-b17c-51c55344ba8f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;2023-01-01T00:00:00.000000000&#x27;, &#x27;2023-01-01T06:00:00.000000000&#x27;,
       &#x27;2023-01-01T12:00:00.000000000&#x27;, &#x27;2023-01-01T18:00:00.000000000&#x27;,
       &#x27;2023-01-02T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>longitude</span></div><div class='xr-var-dims'>(longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>109.2 109.7 110.2 ... 116.7 117.2</div><input id='attrs-ede67b85-11f2-48b0-8aa7-15e7c2f968a3' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-ede67b85-11f2-48b0-8aa7-15e7c2f968a3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-db26d41b-e69d-4964-8ebe-673b8f9dae0d' class='xr-var-data-in' type='checkbox'><label for='data-db26d41b-e69d-4964-8ebe-673b8f9dae0d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([109.162922, 109.662922, 110.162922, 110.662922, 111.162922, 111.662922,
       112.162922, 112.662922, 113.162922, 113.662922, 114.162922, 114.662922,
       115.162922, 115.662922, 116.162922, 116.662922, 117.162922])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>latitude</span></div><div class='xr-var-dims'>(latitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-35.2 -34.7 -34.2 ... -23.2 -22.7</div><input id='attrs-c4c3f82a-70b6-4e9d-90da-12ee0e972c8e' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-c4c3f82a-70b6-4e9d-90da-12ee0e972c8e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-96b26c06-8a40-4faa-b285-56df8529df31' class='xr-var-data-in' type='checkbox'><label for='data-96b26c06-8a40-4faa-b285-56df8529df31' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([-35.2, -34.7, -34.2, -33.7, -33.2, -32.7, -32.2, -31.7, -31.2, -30.7,
       -30.2, -29.7, -29.2, -28.7, -28.2, -27.7, -27.2, -26.7, -26.2, -25.7,
       -25.2, -24.7, -24.2, -23.7, -23.2, -22.7])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a5afaed0-c59a-47ea-b00b-ecd3e0be6fcb' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a5afaed0-c59a-47ea-b00b-ecd3e0be6fcb' class='xr-section-summary' >Data variables: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>u10</span></div><div class='xr-var-dims'>(time, latitude, longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.002 1.002 1.014 ... 2.092 1.241</div><input id='attrs-59d8413d-bfbb-496f-b660-8272cab66bc3' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-59d8413d-bfbb-496f-b660-8272cab66bc3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f97b4a23-5e69-4beb-a6a1-2fd4966ca4a3' class='xr-var-data-in' type='checkbox'><label for='data-f97b4a23-5e69-4beb-a6a1-2fd4966ca4a3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>10 metre U wind component</dd><dt><span>units :</span></dt><dd>m s**-1</dd><dt><span>valid_max :</span></dt><dd>300.0</dd><dt><span>valid_min :</span></dt><dd>-300.0</dd></dl></div><div class='xr-var-data'><pre>array([[[ 1.0018031 ,  1.0022791 ,  1.01357966, ...,  1.40630244,
          1.43499844,  1.46369444],
        [ 0.28492498,  0.27980898,  0.28634258, ...,  0.68408496,
          0.72766696,  0.77124896],
        [-0.20554648, -0.21002248, -0.20434125, ...,  0.1714961 ,
          0.2220481 ,  0.2726001 ],
        ...,
        [-3.38087758, -3.18935558, -2.910633  , ...,  0.37035607,
         -0.12871593, -0.62778793],
        [-3.21732288, -3.03533088, -2.76682583, ...,  0.44290959,
         -0.03838241, -0.51967441],
        [-3.05376818, -2.88130618, -2.62301866, ...,  0.5154631 ,
          0.0519511 , -0.4115609 ]],

       [[ 1.80428272,  1.74605472,  1.66209542, ...,  1.07141639,
          1.38810839,  1.70480039],
        [ 1.07147499,  1.00404099,  0.92608286, ...,  0.62081837,
          0.90439637,  1.18797437],
        [ 0.42477622,  0.35495222,  0.30333382, ...,  0.64099024,
          0.84419824,  1.04740624],
...
        [-2.64504309, -2.44121309, -2.05303844, ...,  3.36538971,
          2.49407171,  1.62275371],
        [-2.1566773 , -1.9237973 , -1.5145754 , ...,  3.95326713,
          3.08451913,  2.21577113],
        [-1.66831152, -1.40638152, -0.97611236, ...,  4.54114455,
          3.67496655,  2.80878855]],

       [[-2.94640711, -3.13596711, -3.28214415, ..., -3.21865383,
         -2.95668183, -2.69470983],
        [-3.43112098, -3.61437698, -3.7544716 , ..., -3.66023232,
         -3.40843232, -3.15663232],
        [-3.79232388, -3.96183988, -4.08636977, ..., -3.88411104,
         -3.66631104, -3.44851104],
        ...,
        [-1.62964856, -1.37167456, -1.03471582, ...,  1.57570433,
          0.61679433, -0.34211567],
        [-1.1541531 , -0.8621891 , -0.50150447, ...,  2.25894881,
          1.35418881,  0.44942881],
        [-0.67865764, -0.35270364,  0.03170689, ...,  2.9421933 ,
          2.0915833 ,  1.2409733 ]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>v10</span></div><div class='xr-var-dims'>(time, latitude, longitude)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.547 5.683 5.804 ... 3.777 3.127</div><input id='attrs-f2578cd9-0fcb-402c-9e3a-864a5d0757af' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f2578cd9-0fcb-402c-9e3a-864a5d0757af' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-977ac223-2f28-497c-a466-7dad04fceee5' class='xr-var-data-in' type='checkbox'><label for='data-977ac223-2f28-497c-a466-7dad04fceee5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>10 metre V wind component</dd><dt><span>units :</span></dt><dd>m s**-1</dd><dt><span>valid_max :</span></dt><dd>300.0</dd><dt><span>valid_min :</span></dt><dd>-300.0</dd></dl></div><div class='xr-var-data'><pre>array([[[ 5.54677101,  5.68328701,  5.80405689, ...,  6.34651646,
          6.21292046,  6.07932446],
        [ 5.78981347,  5.93356747,  6.05608748, ...,  6.50686916,
          6.37380316,  6.24073716],
        [ 6.0188785 ,  6.1517225 ,  6.25482471, ...,  6.36814592,
          6.24396992,  6.11979392],
        ...,
        [ 9.84617813, 10.05429613, 10.1012579 , ...,  5.79818338,
          5.13958538,  4.48098738],
        [ 9.84473916, 10.06028716, 10.12321605, ...,  5.97283593,
          5.24000793,  4.50717993],
        [ 9.84330018, 10.06627818, 10.14517421, ...,  6.14748848,
          5.34043048,  4.53337248]],

       [[ 6.04657196,  6.11886396,  6.16875088, ...,  5.98727699,
          5.89456099,  5.80184499],
        [ 6.26931134,  6.34880734,  6.40486534, ...,  6.21235551,
          6.09811551,  5.98387551],
        [ 6.48385809,  6.56601409,  6.62601917, ...,  6.38488463,
          6.22224463,  6.05960463],
...
        [10.03974609, 10.42440209, 10.49502598, ...,  3.5344137 ,
          2.9503737 ,  2.3663337 ],
        [ 9.88863213, 10.25734813, 10.33158921, ...,  3.74880355,
          3.14386355,  2.53892355],
        [ 9.73751817, 10.09029417, 10.16815244, ...,  3.9631934 ,
          3.3373534 ,  2.7115134 ]],

       [[ 6.51699484,  6.54261084,  6.5282861 , ...,  5.20775299,
          5.04328499,  4.87881699],
        [ 6.74810143,  6.78040343,  6.76289422, ...,  5.18632009,
          5.00995409,  4.83358809],
        [ 6.98216742,  7.03013942,  7.01142797, ...,  5.08061255,
          4.90213655,  4.72366055],
        ...,
        [10.30906846, 10.61684846, 10.6484432 , ...,  4.4436488 ,
          4.0212168 ,  3.5987848 ],
        [10.11960101, 10.40968101, 10.44484363, ...,  4.43552117,
          3.89926917,  3.36301717],
        [ 9.93013356, 10.20251356, 10.24124406, ...,  4.42739353,
          3.77732153,  3.12724953]]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-cf71e925-670d-4a56-a91a-f58a68a353f8' class='xr-section-summary-in' type='checkbox'  ><label for='section-cf71e925-670d-4a56-a91a-f58a68a353f8' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-0c108e6d-44b5-4621-94aa-30bbf68b3156' class='xr-index-data-in' type='checkbox'/><label for='index-0c108e6d-44b5-4621-94aa-30bbf68b3156' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2023-01-01 00:00:00&#x27;, &#x27;2023-01-01 06:00:00&#x27;,
               &#x27;2023-01-01 12:00:00&#x27;, &#x27;2023-01-01 18:00:00&#x27;,
               &#x27;2023-01-02 00:00:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>longitude</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-e7556f5c-204c-4a85-b632-b2f381693ef5' class='xr-index-data-in' type='checkbox'/><label for='index-e7556f5c-204c-4a85-b632-b2f381693ef5' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([109.1629223150705, 109.6629223150705, 110.1629223150705,
       110.6629223150705, 111.1629223150705, 111.6629223150705,
       112.1629223150705, 112.6629223150705, 113.1629223150705,
       113.6629223150705, 114.1629223150705, 114.6629223150705,
       115.1629223150705, 115.6629223150705, 116.1629223150705,
       116.6629223150705, 117.1629223150705],
      dtype=&#x27;float64&#x27;, name=&#x27;longitude&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>latitude</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-c30832d9-6aec-4b54-aeeb-50bb84683c34' class='xr-index-data-in' type='checkbox'/><label for='index-c30832d9-6aec-4b54-aeeb-50bb84683c34' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([              -35.2,               -34.7,               -34.2,
                     -33.7,               -33.2,               -32.7,
                     -32.2, -31.700000000000003, -31.200000000000003,
       -30.700000000000003, -30.200000000000003, -29.700000000000003,
       -29.200000000000003, -28.700000000000003, -28.200000000000003,
       -27.700000000000003, -27.200000000000003, -26.700000000000003,
       -26.200000000000003, -25.700000000000003, -25.200000000000003,
       -24.700000000000003, -24.200000000000003, -23.700000000000003,
       -23.200000000000003, -22.700000000000003],
      dtype=&#x27;float64&#x27;, name=&#x27;latitude&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-fb38e8e6-07c0-4329-b81f-6edeeef08b57' class='xr-section-summary-in' type='checkbox'  checked><label for='section-fb38e8e6-07c0-4329-b81f-6edeeef08b57' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>Conventions :</span></dt><dd>CF-1.6</dd><dt><span>history :</span></dt><dd>2023-06-10 00:03:38 GMT by grib_to_netcdf-2.25.1: /opt/ecmwf/mars-client/bin/grib_to_netcdf.bin -S param -o /cache/data1/adaptor.mars.internal-1686355363.059632-31231-4-716aba91-9c1f-4cb0-85d0-16ceb0c26b80.nc /cache/tmp/716aba91-9c1f-4cb0-85d0-16ceb0c26b80-adaptor.mars.internal-1686355351.013629-31231-7-tmp.grib</dd></dl></div></li></ul></div></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create the data instance</span>

<span class="n">wind</span> <span class="o">=</span> <span class="n">SwanDataGrid</span><span class="p">(</span>
    <span class="n">var</span><span class="o">=</span><span class="s2">&quot;wind&quot;</span><span class="p">,</span>
    <span class="n">source</span><span class="o">=</span><span class="n">SourceDataset</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="n">dset</span><span class="p">),</span>
    <span class="n">z1</span><span class="o">=</span><span class="s2">&quot;u10&quot;</span><span class="p">,</span>
    <span class="n">z2</span><span class="o">=</span><span class="s2">&quot;v10&quot;</span><span class="p">,</span>
    <span class="n">coords</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;longitude&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;latitude&quot;</span><span class="p">},</span>
    <span class="n">crop_grid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># So data isn&#39;t cropped to model grid inside SwanConfig</span>
<span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">wind</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="s2">&quot;u10&quot;</span><span class="p">,</span> <span class="n">isel</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;RdBu_r&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_swan_example_procedural_17_0.png" src="../../_images/notebooks_swan_example_procedural_17_0.png" />
</div>
</div>
</section>
</section>
<section id="SWAN-components">
<h2>SWAN components<a class="headerlink" href="#SWAN-components" title="Link to this heading">#</a></h2>
<p>SWAN commands can be fully prescribed using what we define as “Components”. Components are pydantic objects that model the different sets of command instruction in SWAN with fields that match the options for each command and a <code class="docutils literal notranslate"><span class="pre">render()</span></code> method that returns the string to render in the INPUT command file.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">SwanConfigComponents</span></code> config class takes the components as fields organised as a “group” components, a collection of individual components that are defined together and validated for consistency. These groups are structured similarly to the main groups of SWAN commands as defined by the different subsections in <a class="reference external" href="https://swanmodel.sourceforge.io/online_doc/swanuse/node20.html">Chapter 4</a> of the user manual.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.config</span> <span class="kn">import</span> <span class="n">SwanConfigComponents</span>

SwanConfigComponents<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">Init signature:</span>
SwanConfigComponents<span class="ansi-blue-fg">(</span>
    <span class="ansi-blue-fg">*</span><span class="ansi-blue-fg">,</span>
    model_type<span class="ansi-blue-fg">:</span> Literal<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;swanconfig&#39;</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;SWANCONFIG&#39;</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#39;swanconfig&#39;</span><span class="ansi-blue-fg">,</span>
    template<span class="ansi-blue-fg">:</span> str <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#39;/source/csiro/rompy/rompy/templates/swancomp&#39;</span><span class="ansi-blue-fg">,</span>
    checkout<span class="ansi-blue-fg">:</span> Optional<span class="ansi-blue-fg">[</span>str<span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#39;main&#39;</span><span class="ansi-blue-fg">,</span>
    cgrid<span class="ansi-blue-fg">:</span> Union<span class="ansi-blue-fg">[</span>rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>cgrid<span class="ansi-blue-fg">.</span>REGULAR<span class="ansi-blue-fg">,</span> rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>cgrid<span class="ansi-blue-fg">.</span>CURVILINEAR<span class="ansi-blue-fg">,</span> rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>cgrid<span class="ansi-blue-fg">.</span>UNSTRUCTURED<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span>
    startup<span class="ansi-blue-fg">:</span> Optional<span class="ansi-blue-fg">[</span>Annotated<span class="ansi-blue-fg">[</span>rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>group<span class="ansi-blue-fg">.</span>STARTUP<span class="ansi-blue-fg">,</span> FieldInfo<span class="ansi-blue-fg">(</span>annotation<span class="ansi-blue-fg">=</span>NoneType<span class="ansi-blue-fg">,</span> required<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> description<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;Startup components&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span>
    inpgrid<span class="ansi-blue-fg">:</span> Optional<span class="ansi-blue-fg">[</span>Annotated<span class="ansi-blue-fg">[</span>Union<span class="ansi-blue-fg">[</span>rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>group<span class="ansi-blue-fg">.</span>INPGRIDS<span class="ansi-blue-fg">,</span> rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>interface<span class="ansi-blue-fg">.</span>DataInterface<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> FieldInfo<span class="ansi-blue-fg">(</span>annotation<span class="ansi-blue-fg">=</span>NoneType<span class="ansi-blue-fg">,</span> required<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> description<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;Input grid components&#39;</span><span class="ansi-blue-fg">,</span> discriminator<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;model_type&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span>
    boundary<span class="ansi-blue-fg">:</span> Optional<span class="ansi-blue-fg">[</span>Annotated<span class="ansi-blue-fg">[</span>Union<span class="ansi-blue-fg">[</span>rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>boundary<span class="ansi-blue-fg">.</span>BOUNDSPEC<span class="ansi-blue-fg">,</span> rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>boundary<span class="ansi-blue-fg">.</span>BOUNDNEST1<span class="ansi-blue-fg">,</span> rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>boundary<span class="ansi-blue-fg">.</span>BOUNDNEST2<span class="ansi-blue-fg">,</span> rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>boundary<span class="ansi-blue-fg">.</span>BOUNDNEST3<span class="ansi-blue-fg">,</span> rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>interface<span class="ansi-blue-fg">.</span>BoundaryInterface<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> FieldInfo<span class="ansi-blue-fg">(</span>annotation<span class="ansi-blue-fg">=</span>NoneType<span class="ansi-blue-fg">,</span> required<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> description<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;Boundary component&#39;</span><span class="ansi-blue-fg">,</span> discriminator<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;model_type&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span>
    initial<span class="ansi-blue-fg">:</span> Optional<span class="ansi-blue-fg">[</span>Annotated<span class="ansi-blue-fg">[</span>rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>boundary<span class="ansi-blue-fg">.</span>INITIAL<span class="ansi-blue-fg">,</span> FieldInfo<span class="ansi-blue-fg">(</span>annotation<span class="ansi-blue-fg">=</span>NoneType<span class="ansi-blue-fg">,</span> required<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> description<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;Initial component&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span>
    physics<span class="ansi-blue-fg">:</span> Optional<span class="ansi-blue-fg">[</span>Annotated<span class="ansi-blue-fg">[</span>rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>group<span class="ansi-blue-fg">.</span>PHYSICS<span class="ansi-blue-fg">,</span> FieldInfo<span class="ansi-blue-fg">(</span>annotation<span class="ansi-blue-fg">=</span>NoneType<span class="ansi-blue-fg">,</span> required<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> description<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;Physics components&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span>
    prop<span class="ansi-blue-fg">:</span> Optional<span class="ansi-blue-fg">[</span>Annotated<span class="ansi-blue-fg">[</span>rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>numerics<span class="ansi-blue-fg">.</span>PROP<span class="ansi-blue-fg">,</span> FieldInfo<span class="ansi-blue-fg">(</span>annotation<span class="ansi-blue-fg">=</span>NoneType<span class="ansi-blue-fg">,</span> required<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> description<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;Propagation components&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span>
    numeric<span class="ansi-blue-fg">:</span> Optional<span class="ansi-blue-fg">[</span>Annotated<span class="ansi-blue-fg">[</span>rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>numerics<span class="ansi-blue-fg">.</span>NUMERIC<span class="ansi-blue-fg">,</span> FieldInfo<span class="ansi-blue-fg">(</span>annotation<span class="ansi-blue-fg">=</span>NoneType<span class="ansi-blue-fg">,</span> required<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> description<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;Numerics components&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span>
    output<span class="ansi-blue-fg">:</span> Optional<span class="ansi-blue-fg">[</span>Annotated<span class="ansi-blue-fg">[</span>rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>group<span class="ansi-blue-fg">.</span>OUTPUT<span class="ansi-blue-fg">,</span> FieldInfo<span class="ansi-blue-fg">(</span>annotation<span class="ansi-blue-fg">=</span>NoneType<span class="ansi-blue-fg">,</span> required<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> description<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;Output components&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span>
    lockup<span class="ansi-blue-fg">:</span> Optional<span class="ansi-blue-fg">[</span>Annotated<span class="ansi-blue-fg">[</span>rompy<span class="ansi-blue-fg">.</span>swan<span class="ansi-blue-fg">.</span>components<span class="ansi-blue-fg">.</span>group<span class="ansi-blue-fg">.</span>LOCKUP<span class="ansi-blue-fg">,</span> FieldInfo<span class="ansi-blue-fg">(</span>annotation<span class="ansi-blue-fg">=</span>NoneType<span class="ansi-blue-fg">,</span> required<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> description<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#39;Output components&#39;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span>
    <span class="ansi-blue-fg">**</span>extra_data<span class="ansi-blue-fg">:</span> Any<span class="ansi-blue-fg">,</span>
<span class="ansi-blue-fg">)</span> <span class="ansi-blue-fg">-&gt;</span> <span class="ansi-green-fg">None</span>
<span class="ansi-red-fg">Docstring:</span>
SWAN config class.

TODO: Combine boundary and inpgrid into a single input type.

Note
----
The `cgrid` is the only required field since it is used to define the swan grid
object which is passed to other components.
<span class="ansi-red-fg">Init docstring:</span>
Create a new model by parsing and validating input data from keyword arguments.

Raises [`ValidationError`][pydantic_core.ValidationError] if the input data cannot be
validated to form a valid model.

`__init__` uses `__pydantic_self__` instead of the more common `self` for the first arg to
allow `self` as a field name.
<span class="ansi-red-fg">File:</span>           /source/csiro/rompy/rompy/swan/config.py
<span class="ansi-red-fg">Type:</span>           ModelMetaclass
<span class="ansi-red-fg">Subclasses:</span>
</pre></div></div>
</div>
<section id="CGRID">
<h3>CGRID<a class="headerlink" href="#CGRID" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.components.cgrid</span> <span class="kn">import</span> <span class="n">REGULAR</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.readgrid</span> <span class="kn">import</span> <span class="n">GRIDREGULAR</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.spectrum</span> <span class="kn">import</span> <span class="n">SPECTRUM</span>

<span class="n">cgrid</span> <span class="o">=</span> <span class="n">REGULAR</span><span class="p">(</span>
    <span class="n">grid</span><span class="o">=</span><span class="n">GRIDREGULAR</span><span class="p">(</span>
        <span class="n">xp</span><span class="o">=</span><span class="n">grid</span><span class="o">.</span><span class="n">x0</span><span class="p">,</span>
        <span class="n">yp</span><span class="o">=</span><span class="n">grid</span><span class="o">.</span><span class="n">y0</span><span class="p">,</span>
        <span class="n">alp</span><span class="o">=</span><span class="n">grid</span><span class="o">.</span><span class="n">rot</span><span class="p">,</span>
        <span class="n">xlen</span><span class="o">=</span><span class="n">grid</span><span class="o">.</span><span class="n">xlen</span><span class="p">,</span>
        <span class="n">ylen</span><span class="o">=</span><span class="n">grid</span><span class="o">.</span><span class="n">ylen</span><span class="p">,</span>
        <span class="n">mx</span><span class="o">=</span><span class="n">grid</span><span class="o">.</span><span class="n">nx</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">my</span><span class="o">=</span><span class="n">grid</span><span class="o">.</span><span class="n">ny</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">spectrum</span><span class="o">=</span><span class="n">SPECTRUM</span><span class="p">(</span>
        <span class="n">mdc</span><span class="o">=</span><span class="mi">36</span><span class="p">,</span>
        <span class="n">flow</span><span class="o">=</span><span class="mf">0.04</span><span class="p">,</span>
        <span class="n">fhigh</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">cgrid</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
CGRID REGULAR xpc=110.0 ypc=-35.2 alpc=4.0 xlenc=7.5 ylenc=12.5 mxc=14 myc=24 CIRCLE mdc=36 flow=0.04 fhigh=1.0
</pre></div></div>
</div>
</section>
<section id="Startup">
<h3>Startup<a class="headerlink" href="#Startup" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.components.group</span> <span class="kn">import</span> <span class="n">STARTUP</span>
<span class="kn">from</span> <span class="nn">rompy.swan.components.startup</span> <span class="kn">import</span> <span class="n">PROJECT</span><span class="p">,</span> <span class="n">SET</span><span class="p">,</span> <span class="n">MODE</span><span class="p">,</span> <span class="n">COORDINATES</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.startup</span> <span class="kn">import</span> <span class="n">SPHERICAL</span>

<span class="n">project</span> <span class="o">=</span> <span class="n">PROJECT</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Test procedural&quot;</span><span class="p">,</span>
    <span class="n">nr</span><span class="o">=</span><span class="s2">&quot;run1&quot;</span><span class="p">,</span>
    <span class="n">title1</span><span class="o">=</span><span class="s2">&quot;Procedural definition of a Swan config with rompy&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="nb">set</span> <span class="o">=</span> <span class="n">SET</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">depmin</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">direction_convention</span><span class="o">=</span><span class="s2">&quot;nautical&quot;</span><span class="p">)</span>

<span class="n">mode</span> <span class="o">=</span> <span class="n">MODE</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;nonstationary&quot;</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s2">&quot;twodimensional&quot;</span><span class="p">)</span>

<span class="n">coordinates</span> <span class="o">=</span> <span class="n">COORDINATES</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="n">SPHERICAL</span><span class="p">())</span>

<span class="n">startup</span> <span class="o">=</span> <span class="n">STARTUP</span><span class="p">(</span>
    <span class="n">project</span><span class="o">=</span><span class="n">project</span><span class="p">,</span>
    <span class="nb">set</span><span class="o">=</span><span class="nb">set</span><span class="p">,</span>
    <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
    <span class="n">coordinates</span><span class="o">=</span><span class="n">coordinates</span><span class="p">,</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">startup</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PROJECT name=&#39;Test procedural&#39; nr=&#39;run1&#39; title1=&#39;Procedural definition of a Swan config with rompy&#39;

SET level=0.0 depmin=0.05 NAUTICAL

MODE NONSTATIONARY TWODIMENSIONAL

COORDINATES SPHERICAL CCM
</pre></div></div>
</div>
</section>
<section id="Input-grids">
<h3>Input grids<a class="headerlink" href="#Input-grids" title="Link to this heading">#</a></h3>
<p>The input grids are defined from the SwanDataGrid objects defined in the previous using the DataInterface object. This object will be interfaced in <code class="docutils literal notranslate"><span class="pre">SwanConfigComponents</span></code> which will call its <code class="docutils literal notranslate"><span class="pre">get</span></code> method to convert the inputs into SWAN ASCII objects to run the model.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.interface</span> <span class="kn">import</span> <span class="n">DataInterface</span>

<span class="n">inpgrid</span> <span class="o">=</span> <span class="n">DataInterface</span><span class="p">(</span>
    <span class="n">bottom</span><span class="o">=</span><span class="n">bottom</span><span class="p">,</span>
    <span class="nb">input</span><span class="o">=</span><span class="p">[</span><span class="n">wind</span><span class="p">],</span>
<span class="p">)</span>

<span class="n">inpgrid</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
DataInterface(model_type=&#39;data_interface&#39;, bottom=SwanDataGrid(model_type=&#39;data_grid&#39;, id=&#39;data&#39;, source=SourceDataset(model_type=&#39;dataset&#39;, obj=&lt;xarray.Dataset&gt;
Dimensions:    (lat: 26, lon: 17)
Coordinates:
  * lon        (lon) float64 109.2 109.7 110.2 110.7 ... 115.7 116.2 116.7 117.2
  * lat        (lat) float64 -35.2 -34.7 -34.2 -33.7 ... -24.2 -23.7 -23.2 -22.7
Data variables:
    elevation  (lat, lon) float64 -5.397e+03 -5.055e+03 ... 343.3 422.0
Attributes:
    title:    Subset of the GEBCO 2020 grid for testing purposes), filter=Filter(sort={}, subset={}, crop={}, timenorm={}, rename={}, derived={}), variables=[&#39;elevation&#39;], coords=DatasetCoords(t=&#39;time&#39;, x=&#39;lon&#39;, y=&#39;lat&#39;, z=&#39;depth&#39;), crop_data=True, buffer=0.0, z1=&#39;elevation&#39;, z2=None, var=&lt;GridOptions.BOTTOM: &#39;bottom&#39;&gt;, fac=-1.0), input=[SwanDataGrid(model_type=&#39;data_grid&#39;, id=&#39;data&#39;, source=SourceDataset(model_type=&#39;dataset&#39;, obj=&lt;xarray.Dataset&gt;
Dimensions:    (time: 5, latitude: 26, longitude: 17)
Coordinates:
  * time       (time) datetime64[ns] 2023-01-01 ... 2023-01-02
  * longitude  (longitude) float64 109.2 109.7 110.2 110.7 ... 116.2 116.7 117.2
  * latitude   (latitude) float64 -35.2 -34.7 -34.2 -33.7 ... -23.7 -23.2 -22.7
Data variables:
    u10        (time, latitude, longitude) float64 1.002 1.002 ... 2.092 1.241
    v10        (time, latitude, longitude) float64 5.547 5.683 ... 3.777 3.127
Attributes:
    Conventions:  CF-1.6
    history:      2023-06-10 00:03:38 GMT by grib_to_netcdf-2.25.1: /opt/ecmw...), filter=Filter(sort={}, subset={}, crop={}, timenorm={}, rename={}, derived={}), variables=[&#39;u10&#39;, &#39;v10&#39;], coords=DatasetCoords(t=&#39;time&#39;, x=&#39;longitude&#39;, y=&#39;latitude&#39;, z=&#39;depth&#39;), crop_data=True, buffer=0.0, z1=&#39;u10&#39;, z2=&#39;v10&#39;, var=&lt;GridOptions.WIND: &#39;wind&#39;&gt;, fac=1.0)])
</pre></div></div>
</div>
</section>
<section id="Boundary">
<h3>Boundary<a class="headerlink" href="#Boundary" title="Link to this heading">#</a></h3>
<p>Boundary can be defined either from the BoundaryInterface class or using one of the existing boundary components.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.components.boundary</span> <span class="kn">import</span>  <span class="n">BOUNDSPEC</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.boundary</span> <span class="kn">import</span> <span class="n">SIDE</span><span class="p">,</span> <span class="n">CONSTANTPAR</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.spectrum</span> <span class="kn">import</span> <span class="n">SHAPESPEC</span><span class="p">,</span> <span class="n">JONSWAP</span>

<span class="n">shape</span> <span class="o">=</span> <span class="n">JONSWAP</span><span class="p">(</span><span class="n">gamma</span><span class="o">=</span><span class="mf">3.3</span><span class="p">)</span>

<span class="n">shapespec</span> <span class="o">=</span> <span class="n">SHAPESPEC</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="n">shape</span><span class="p">,</span> <span class="n">per_type</span><span class="o">=</span><span class="s2">&quot;peak&quot;</span><span class="p">,</span> <span class="n">dspr_type</span><span class="o">=</span><span class="s2">&quot;degrees&quot;</span><span class="p">)</span>

<span class="n">location</span> <span class="o">=</span> <span class="n">SIDE</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;west&quot;</span><span class="p">,</span> <span class="n">direction</span><span class="o">=</span><span class="s2">&quot;ccw&quot;</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">CONSTANTPAR</span><span class="p">(</span><span class="n">hs</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">per</span><span class="o">=</span><span class="mf">12.0</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="mf">255.0</span><span class="p">,</span> <span class="n">dd</span><span class="o">=</span><span class="mf">25.0</span><span class="p">)</span>

<span class="n">boundary</span> <span class="o">=</span> <span class="n">BOUNDSPEC</span><span class="p">(</span><span class="n">shapespec</span><span class="o">=</span><span class="n">shapespec</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="n">location</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">boundary</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
BOUND SHAPESPEC JONSWAP gamma=3.3 PEAK DSPR DEGREES
BOUNDSPEC SIDE WEST CCW CONSTANT PAR hs=2.0 per=12.0 dir=255.0 dd=25.0
</pre></div></div>
</div>
</section>
<section id="Initial-conditions">
<h3>Initial conditions<a class="headerlink" href="#Initial-conditions" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.components.boundary</span> <span class="kn">import</span> <span class="n">INITIAL</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.boundary</span> <span class="kn">import</span> <span class="n">DEFAULT</span>

<span class="n">initial</span> <span class="o">=</span> <span class="n">INITIAL</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="n">DEFAULT</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="n">initial</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
INITIAL DEFAULT
</pre></div></div>
</div>
</section>
<section id="Physics">
<h3>Physics<a class="headerlink" href="#Physics" title="Link to this heading">#</a></h3>
<p>The Components support every SWAN physics command option. They are prescribed in the <code class="docutils literal notranslate"><span class="pre">SwanConfigComponents</span></code> using the PHYSICS group component.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.components.group</span> <span class="kn">import</span> <span class="n">PHYSICS</span>
<span class="kn">from</span> <span class="nn">rompy.swan.components.physics</span> <span class="kn">import</span> <span class="n">GEN3</span><span class="p">,</span> <span class="n">BREAKING_CONSTANT</span><span class="p">,</span> <span class="n">FRICTION_RIPPLES</span><span class="p">,</span> <span class="n">QUADRUPL</span><span class="p">,</span> <span class="n">TRIAD_DCTA</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.physics</span> <span class="kn">import</span> <span class="n">WESTHUYSEN</span><span class="p">,</span> <span class="n">ELDEBERKY</span>

<span class="n">gen</span> <span class="o">=</span> <span class="n">GEN3</span><span class="p">(</span><span class="n">source_terms</span><span class="o">=</span><span class="n">WESTHUYSEN</span><span class="p">(</span><span class="n">wind_drag</span><span class="o">=</span><span class="s2">&quot;wu&quot;</span><span class="p">,</span> <span class="n">cds2</span><span class="o">=</span><span class="mf">5.0e-5</span><span class="p">,</span> <span class="n">br</span><span class="o">=</span><span class="mf">1.75e-3</span><span class="p">))</span>

<span class="n">breaking</span> <span class="o">=</span> <span class="n">BREAKING_CONSTANT</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mf">0.73</span><span class="p">)</span>

<span class="n">friction</span> <span class="o">=</span> <span class="n">FRICTION_RIPPLES</span><span class="p">(</span><span class="n">s</span><span class="o">=</span><span class="mf">2.65</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">)</span>

<span class="n">triad</span> <span class="o">=</span> <span class="n">TRIAD_DCTA</span><span class="p">(</span><span class="n">trfac</span><span class="o">=</span><span class="mf">4.4</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">1.333</span><span class="p">,</span> <span class="n">biphase</span><span class="o">=</span><span class="n">ELDEBERKY</span><span class="p">(</span><span class="n">urcrit</span><span class="o">=</span><span class="mf">0.63</span><span class="p">))</span>

<span class="n">quad</span> <span class="o">=</span> <span class="n">QUADRUPL</span><span class="p">(</span><span class="n">iquad</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">lambd</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">cn14</span><span class="o">=</span><span class="mf">3.0e7</span><span class="p">,</span> <span class="n">csh1</span><span class="o">=</span><span class="mf">5.5</span><span class="p">,</span> <span class="n">csh2</span><span class="o">=</span><span class="mf">0.833</span><span class="p">,</span> <span class="n">csh3</span><span class="o">=-</span><span class="mf">1.25</span><span class="p">)</span>

<span class="n">physics</span> <span class="o">=</span> <span class="n">PHYSICS</span><span class="p">(</span>
    <span class="n">gen</span><span class="o">=</span><span class="n">gen</span><span class="p">,</span>
    <span class="n">breaking</span><span class="o">=</span><span class="n">breaking</span><span class="p">,</span>
    <span class="n">friction</span><span class="o">=</span><span class="n">friction</span><span class="p">,</span>
    <span class="n">triad</span><span class="o">=</span><span class="n">triad</span><span class="p">,</span>
    <span class="n">quadrupl</span><span class="o">=</span><span class="n">quad</span><span class="p">,</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">physics</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
GEN3 WESTHUYSEN cds2=5e-05 br=0.00175 DRAG WU

QUADRUPL iquad=2 lambda=0.25 Cn14=30000000.0 Csh1=5.5 Csh2=0.833 Csh3=-1.25

BREAKING CONSTANT alpha=1.0 gamma=0.73

FRICTION RIPPLES S=2.65 D=0.0001

TRIAD DCTA trfac=4.4 p=1.333 COLL BIPHASE ELDEBERKY urcrit=0.63
</pre></div></div>
</div>
</section>
<section id="Propagation-scheme">
<h3>Propagation scheme<a class="headerlink" href="#Propagation-scheme" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.components.numerics</span> <span class="kn">import</span> <span class="n">PROP</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.numerics</span> <span class="kn">import</span> <span class="n">BSBT</span>

<span class="n">prop</span> <span class="o">=</span> <span class="n">PROP</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="n">BSBT</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="n">prop</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PROP BSBT
</pre></div></div>
</div>
</section>
<section id="Numerics">
<h3>Numerics<a class="headerlink" href="#Numerics" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.components.numerics</span> <span class="kn">import</span> <span class="n">NUMERIC</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.numerics</span> <span class="kn">import</span> <span class="n">STAT</span><span class="p">,</span> <span class="n">STOPC</span><span class="p">,</span> <span class="n">DIRIMPL</span>

<span class="n">stopc</span> <span class="o">=</span> <span class="n">STOPC</span><span class="p">(</span><span class="n">dabs</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span> <span class="n">drel</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">curvat</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span> <span class="n">npnts</span><span class="o">=</span><span class="mf">99.5</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">STAT</span><span class="p">(</span><span class="n">mxitst</span><span class="o">=</span><span class="mi">50</span><span class="p">))</span>

<span class="n">dirimpl</span> <span class="o">=</span> <span class="n">DIRIMPL</span><span class="p">(</span><span class="n">cdd</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">numeric</span> <span class="o">=</span> <span class="n">NUMERIC</span><span class="p">(</span><span class="n">stopc</span><span class="o">=</span><span class="n">stopc</span><span class="p">,</span> <span class="n">dirimpl</span><span class="o">=</span><span class="n">dirimpl</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">numeric</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
NUMERIC STOPC dabs=0.005 drel=0.01 curvat=0.005 npnts=99.5 STATIONARY mxitst=50 DIRIMPL cdd=0.5
</pre></div></div>
</div>
</section>
<section id="Output">
<h3>Output<a class="headerlink" href="#Output" title="Link to this heading">#</a></h3>
<p>Output commands are defined in <code class="docutils literal notranslate"><span class="pre">SwanConfigComponents</span></code> with the <code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code> group component. Many validations are defined to ensure location and write components are correctly defined.</p>
<p>The output write components (and the lockup ones) need times to be prescribed, however we skip defining times here as <code class="docutils literal notranslate"><span class="pre">SwanConfigComponents</span></code> will ensure consistent times are defined for every time-dependant component.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.components.group</span> <span class="kn">import</span> <span class="n">OUTPUT</span>
<span class="kn">from</span> <span class="nn">rompy.swan.components.output</span> <span class="kn">import</span> <span class="n">POINTS</span><span class="p">,</span> <span class="n">QUANTITY</span><span class="p">,</span> <span class="n">QUANTITIES</span><span class="p">,</span> <span class="n">BLOCK</span><span class="p">,</span> <span class="n">TABLE</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.time</span> <span class="kn">import</span> <span class="n">TimeRangeOpen</span>

<span class="n">points</span> <span class="o">=</span> <span class="n">POINTS</span><span class="p">(</span>
    <span class="n">sname</span><span class="o">=</span><span class="s2">&quot;pts&quot;</span><span class="p">,</span>
    <span class="n">xp</span><span class="o">=</span><span class="p">[</span><span class="mf">114.0</span><span class="p">,</span> <span class="mf">112.5</span><span class="p">,</span> <span class="mf">115.0</span><span class="p">],</span>
    <span class="n">yp</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">34.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">26.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">30.0</span><span class="p">],</span>
<span class="p">)</span>

<span class="n">q1</span> <span class="o">=</span> <span class="n">QUANTITY</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;hsign&quot;</span><span class="p">],</span> <span class="n">hexp</span><span class="o">=</span><span class="mf">50.0</span><span class="p">)</span>
<span class="n">q2</span> <span class="o">=</span> <span class="n">QUANTITY</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;hsign&quot;</span><span class="p">,</span> <span class="s2">&quot;tps&quot;</span><span class="p">],</span> <span class="n">fmin</span><span class="o">=</span><span class="mf">0.04</span><span class="p">,</span> <span class="n">fmax</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">q3</span> <span class="o">=</span> <span class="n">QUANTITY</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;hswell&quot;</span><span class="p">],</span> <span class="n">fswell</span><span class="o">=</span><span class="mf">0.125</span><span class="p">)</span>
<span class="n">quantity</span> <span class="o">=</span> <span class="n">QUANTITIES</span><span class="p">(</span><span class="n">quantities</span><span class="o">=</span><span class="p">[</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">])</span>

<span class="n">block</span> <span class="o">=</span> <span class="n">BLOCK</span><span class="p">(</span>
    <span class="n">sname</span><span class="o">=</span><span class="s2">&quot;COMPGRID&quot;</span><span class="p">,</span>
    <span class="n">fname</span><span class="o">=</span><span class="s2">&quot;outgrid.nc&quot;</span><span class="p">,</span>
    <span class="n">output</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;hsign&quot;</span><span class="p">,</span> <span class="s2">&quot;hswell&quot;</span><span class="p">,</span> <span class="s2">&quot;dir&quot;</span><span class="p">,</span> <span class="s2">&quot;tps&quot;</span><span class="p">,</span> <span class="s2">&quot;depth&quot;</span><span class="p">],</span>
    <span class="n">times</span><span class="o">=</span><span class="n">TimeRangeOpen</span><span class="p">(</span><span class="n">tfmt</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dfmt</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">),</span> <span class="c1"># Use the default time values for now, they will be overridden</span>
    <span class="n">idla</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">table</span> <span class="o">=</span> <span class="n">TABLE</span><span class="p">(</span>
    <span class="n">sname</span><span class="o">=</span><span class="s2">&quot;pts&quot;</span><span class="p">,</span>
    <span class="n">fname</span><span class="o">=</span><span class="s2">&quot;outpts.nc&quot;</span><span class="p">,</span>
    <span class="n">output</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;hsign&quot;</span><span class="p">,</span> <span class="s2">&quot;dir&quot;</span><span class="p">,</span> <span class="s2">&quot;tps&quot;</span><span class="p">,</span> <span class="s2">&quot;tm01&quot;</span><span class="p">,</span> <span class="s2">&quot;qp&quot;</span><span class="p">],</span>
    <span class="n">times</span><span class="o">=</span><span class="n">TimeRangeOpen</span><span class="p">(</span><span class="n">tfmt</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dfmt</span><span class="o">=</span><span class="s2">&quot;min&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">output</span> <span class="o">=</span> <span class="n">OUTPUT</span><span class="p">(</span><span class="n">points</span><span class="o">=</span><span class="n">points</span><span class="p">,</span> <span class="n">quantity</span><span class="o">=</span><span class="n">quantity</span><span class="p">,</span> <span class="n">block</span><span class="o">=</span><span class="n">block</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
POINTS sname=&#39;pts&#39; &amp;
    xp=114.0 yp=-34.0 &amp;
    xp=112.5 yp=-26.0 &amp;
    xp=115.0 yp=-30.0

QUANTITY HSIGN hexp=50.0

QUANTITY HSIGN TPS fmin=0.04 fmax=0.3

QUANTITY HSWELL fswell=0.125

BLOCK sname=&#39;COMPGRID&#39; fname=&#39;outgrid.nc&#39; LAYOUT idla=3 &amp;
    HSIGN &amp;
    HSWELL &amp;
    DIR &amp;
    TPS &amp;
    DEPTH &amp;
    OUTPUT tbegblk=19700101.000000 deltblk=60.0 MIN

TABLE sname=&#39;pts&#39; fname=&#39;outpts.nc&#39; &amp;
    HSIGN &amp;
    DIR &amp;
    TPS &amp;
    TM01 &amp;
    QP &amp;
    OUTPUT tbegtbl=19700101.000000 delttbl=60.0 MIN
</pre></div></div>
</div>
</section>
<section id="Lockup">
<h3>Lockup<a class="headerlink" href="#Lockup" title="Link to this heading">#</a></h3>
<p>The lockup components are prescribed to the <code class="docutils literal notranslate"><span class="pre">SwanConfigComponents</span></code> class from the <code class="docutils literal notranslate"><span class="pre">LOCKUP</span></code> group component. similar to the output components, time-based fields do not need to be prescribed as they will be reset in the config class, however some time parameters such as <code class="docutils literal notranslate"><span class="pre">tfmt</span></code> and <code class="docutils literal notranslate"><span class="pre">dfmt</span></code> are maintained if defined so they could be defined here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.swan.components.group</span> <span class="kn">import</span> <span class="n">LOCKUP</span>
<span class="kn">from</span> <span class="nn">rompy.swan.components.lockup</span> <span class="kn">import</span> <span class="n">COMPUTE_STAT</span><span class="p">,</span> <span class="n">HOTFILE</span>
<span class="kn">from</span> <span class="nn">rompy.swan.subcomponents.time</span> <span class="kn">import</span> <span class="n">NONSTATIONARY</span>

<span class="n">hotfile</span> <span class="o">=</span> <span class="n">HOTFILE</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="s2">&quot;hotfile.swn&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;free&quot;</span><span class="p">)</span>

<span class="n">compute</span> <span class="o">=</span> <span class="n">COMPUTE_STAT</span><span class="p">(</span>
    <span class="n">times</span><span class="o">=</span><span class="n">NONSTATIONARY</span><span class="p">(</span><span class="n">tfmt</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dfmt</span><span class="o">=</span><span class="s2">&quot;hr&quot;</span><span class="p">),</span> <span class="c1"># We use nonstationary times here to prescribe multiple STAT commands</span>
    <span class="n">hotfile</span><span class="o">=</span><span class="n">hotfile</span><span class="p">,</span>
    <span class="n">hottimes</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="c1"># Output hotfile after the 2nd and last time steps</span>
<span class="p">)</span>

<span class="n">lockup</span> <span class="o">=</span> <span class="n">LOCKUP</span><span class="p">(</span><span class="n">compute</span><span class="o">=</span><span class="n">compute</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">lockup</span><span class="o">.</span><span class="n">render</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
COMPUTE STATIONARY time=19700101.000000
COMPUTE STATIONARY time=19700101.010000
HOTFILE fname=&#39;hotfile_19700101T010000.swn&#39; FREE
COMPUTE STATIONARY time=19700101.020000
COMPUTE STATIONARY time=19700101.030000
COMPUTE STATIONARY time=19700101.040000
COMPUTE STATIONARY time=19700101.050000
COMPUTE STATIONARY time=19700101.060000
COMPUTE STATIONARY time=19700101.070000
COMPUTE STATIONARY time=19700101.080000
COMPUTE STATIONARY time=19700101.090000
COMPUTE STATIONARY time=19700101.100000
COMPUTE STATIONARY time=19700101.110000
COMPUTE STATIONARY time=19700101.120000
COMPUTE STATIONARY time=19700101.130000
COMPUTE STATIONARY time=19700101.140000
COMPUTE STATIONARY time=19700101.150000
COMPUTE STATIONARY time=19700101.160000
COMPUTE STATIONARY time=19700101.170000
COMPUTE STATIONARY time=19700101.180000
COMPUTE STATIONARY time=19700101.190000
COMPUTE STATIONARY time=19700101.200000
COMPUTE STATIONARY time=19700101.210000
COMPUTE STATIONARY time=19700101.220000
COMPUTE STATIONARY time=19700101.230000
COMPUTE STATIONARY time=19700102.000000
HOTFILE fname=&#39;hotfile_19700102T000000.swn&#39; FREE
STOP
</pre></div></div>
</div>
</section>
<section id="Instantiate-config">
<h3>Instantiate config<a class="headerlink" href="#Instantiate-config" title="Link to this heading">#</a></h3>
<p>Note each field is optional so it is possible to skip defining a certain group component such as <code class="docutils literal notranslate"><span class="pre">prop</span></code> to allow using default options in SWAN.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">SwanConfigComponents</span><span class="p">(</span>
    <span class="n">cgrid</span><span class="o">=</span><span class="n">cgrid</span><span class="p">,</span>
    <span class="n">startup</span><span class="o">=</span><span class="n">startup</span><span class="p">,</span>
    <span class="n">inpgrid</span><span class="o">=</span><span class="n">inpgrid</span><span class="p">,</span>
    <span class="n">initial</span><span class="o">=</span><span class="n">initial</span><span class="p">,</span>
    <span class="n">boundary</span><span class="o">=</span><span class="n">boundary</span><span class="p">,</span>
    <span class="n">physics</span><span class="o">=</span><span class="n">physics</span><span class="p">,</span>
    <span class="n">prop</span><span class="o">=</span><span class="n">prop</span><span class="p">,</span>
    <span class="n">numeric</span><span class="o">=</span><span class="n">numeric</span><span class="p">,</span>
    <span class="n">output</span><span class="o">=</span><span class="n">output</span><span class="p">,</span>
    <span class="n">lockup</span><span class="o">=</span><span class="n">lockup</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Generate-workspace">
<h3>Generate workspace<a class="headerlink" href="#Generate-workspace" title="Link to this heading">#</a></h3>
<p>The config <code class="docutils literal notranslate"><span class="pre">SwanConfigComponents</span></code> is not one of the declared types in the <code class="docutils literal notranslate"><span class="pre">config</span></code> field of <code class="docutils literal notranslate"><span class="pre">ModelRun</span></code>. This is okay here since we are passing the config object, but it would result in an exception if we were trying to instantiate it from a dictionary.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rompy.model</span> <span class="kn">import</span> <span class="n">ModelRun</span>
<span class="kn">from</span> <span class="nn">rompy.core.time</span> <span class="kn">import</span> <span class="n">TimeRange</span>

<span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">era5</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">to_index</span><span class="p">()[[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]]</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">ModelRun</span><span class="p">(</span>
    <span class="n">run_id</span><span class="o">=</span><span class="s2">&quot;run1&quot;</span><span class="p">,</span>
    <span class="n">period</span><span class="o">=</span><span class="n">TimeRange</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s2">&quot;1h&quot;</span><span class="p">),</span>
    <span class="n">output_dir</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">workdir</span><span class="p">),</span>
    <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">rundir</span> <span class="o">=</span> <span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
INFO:rompy.model:
INFO:rompy.model:-----------------------------------------------------
INFO:rompy.model:Model settings:
INFO:rompy.model:
run_id: run1
period:
        Start: 2023-01-01 00:00:00
        End: 2023-01-02 00:00:00
        Duration: 1 days 00:00:00
        Interval: 1:00:00
        Include End: True

output_dir: example_procedural
config: &lt;class &#39;rompy.swan.config.SwanConfigComponents&#39;&gt;

INFO:rompy.model:-----------------------------------------------------
INFO:rompy.model:Generating model input files in example_procedural
INFO:rompy.swan.data:   Writing bottom to example_procedural/run1/bottom.grd
INFO:rompy.swan.data:   Writing wind to example_procedural/run1/wind.grd
INFO:rompy.model:
INFO:rompy.model:Successfully generated project in example_procedural
INFO:rompy.model:-----------------------------------------------------
</pre></div></div>
</div>
</section>
<section id="Check-the-workspace">
<h3>Check the workspace<a class="headerlink" href="#Check-the-workspace" title="Link to this heading">#</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">rundir</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[PosixPath(&#39;/source/csiro/rompy/notebooks/swan/example_procedural/run1/bottom.grd&#39;),
 PosixPath(&#39;/source/csiro/rompy/notebooks/swan/example_procedural/run1/INPUT&#39;),
 PosixPath(&#39;/source/csiro/rompy/notebooks/swan/example_procedural/run1/wind.grd&#39;)]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">input</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/source/csiro/rompy/notebooks/swan/example_procedural/run1/INPUT&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">input</span><span class="o">.</span><span class="n">read_text</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
! Rompy SwanConfig
! Template: /source/csiro/rompy/rompy/templates/swancomp
! Generated: 2023-10-16 03:10:10.116738 on rafael-XPS by rguedes


! Startup -------------------------------------------------------------------------------------------------------------------------------------------------------------------------

PROJECT name=&#39;Test procedural&#39; nr=&#39;run1&#39; title1=&#39;Procedural definition of a Swan config with rompy&#39;

SET level=0.0 depmin=0.05 NAUTICAL

MODE NONSTATIONARY TWODIMENSIONAL

COORDINATES SPHERICAL CCM

! Computational Grid --------------------------------------------------------------------------------------------------------------------------------------------------------------


CGRID REGULAR xpc=110.0 ypc=-35.2 alpc=4.0 xlenc=7.5 ylenc=12.5 mxc=14 myc=24 CIRCLE mdc=36 flow=0.04 fhigh=1.0

! Input Grids ---------------------------------------------------------------------------------------------------------------------------------------------------------------------

INPGRID BOTTOM REG 109.1629223150705 -35.2 0.0 15 24 0.5 0.5 EXC -99.0
READINP BOTTOM -1.0 &#39;bottom.grd&#39; 3 FREE

INPGRID WIND REG 109.1629223150705 -35.2 0.0 15 24 0.5 0.5 EXC -99.0 NONSTATION 20230101.000000 6.0 HR
READINP WIND 1.0 &#39;wind.grd&#39; 3 0 1 0 FREE



! Boundary and Initial conditions -------------------------------------------------------------------------------------------------------------------------------------------------

BOUND SHAPESPEC JONSWAP gamma=3.3 PEAK DSPR DEGREES
BOUNDSPEC SIDE WEST CCW CONSTANT PAR hs=2.0 per=12.0 dir=255.0 dd=25.0

INITIAL DEFAULT


! Physics -------------------------------------------------------------------------------------------------------------------------------------------------------------------------

GEN3 WESTHUYSEN cds2=5e-05 br=0.00175 DRAG WU

QUADRUPL iquad=2 lambda=0.25 Cn14=30000000.0 Csh1=5.5 Csh2=0.833 Csh3=-1.25

BREAKING CONSTANT alpha=1.0 gamma=0.73

FRICTION RIPPLES S=2.65 D=0.0001

TRIAD DCTA trfac=4.4 p=1.333 COLL BIPHASE ELDEBERKY urcrit=0.63


! Numerics ------------------------------------------------------------------------------------------------------------------------------------------------------------------------

PROP BSBT

NUMERIC STOPC dabs=0.005 drel=0.01 curvat=0.005 npnts=99.5 STATIONARY mxitst=50 DIRIMPL cdd=0.5


! Output --------------------------------------------------------------------------------------------------------------------------------------------------------------------------

POINTS sname=&#39;pts&#39; &amp;
    xp=114.0 yp=-34.0 &amp;
    xp=112.5 yp=-26.0 &amp;
    xp=115.0 yp=-30.0

QUANTITY HSIGN hexp=50.0

QUANTITY HSIGN TPS fmin=0.04 fmax=0.3

QUANTITY HSWELL fswell=0.125

BLOCK sname=&#39;COMPGRID&#39; fname=&#39;outgrid.nc&#39; LAYOUT idla=3 &amp;
    HSIGN &amp;
    HSWELL &amp;
    DIR &amp;
    TPS &amp;
    DEPTH &amp;
    OUTPUT tbegblk=20230101.000000 deltblk=60.0 MIN

TABLE sname=&#39;pts&#39; fname=&#39;outpts.nc&#39; &amp;
    HSIGN &amp;
    DIR &amp;
    TPS &amp;
    TM01 &amp;
    QP &amp;
    OUTPUT tbegtbl=20230101.000000 delttbl=60.0 MIN


! Lockup --------------------------------------------------------------------------------------------------------------------------------------------------------------------------

COMPUTE STATIONARY time=20230101.000000
COMPUTE STATIONARY time=20230101.010000
HOTFILE fname=&#39;hotfile_20230101T010000.swn&#39; FREE
COMPUTE STATIONARY time=20230101.020000
COMPUTE STATIONARY time=20230101.030000
COMPUTE STATIONARY time=20230101.040000
COMPUTE STATIONARY time=20230101.050000
COMPUTE STATIONARY time=20230101.060000
COMPUTE STATIONARY time=20230101.070000
COMPUTE STATIONARY time=20230101.080000
COMPUTE STATIONARY time=20230101.090000
COMPUTE STATIONARY time=20230101.100000
COMPUTE STATIONARY time=20230101.110000
COMPUTE STATIONARY time=20230101.120000
COMPUTE STATIONARY time=20230101.130000
COMPUTE STATIONARY time=20230101.140000
COMPUTE STATIONARY time=20230101.150000
COMPUTE STATIONARY time=20230101.160000
COMPUTE STATIONARY time=20230101.170000
COMPUTE STATIONARY time=20230101.180000
COMPUTE STATIONARY time=20230101.190000
COMPUTE STATIONARY time=20230101.200000
COMPUTE STATIONARY time=20230101.210000
COMPUTE STATIONARY time=20230101.220000
COMPUTE STATIONARY time=20230101.230000
COMPUTE STATIONARY time=20230102.000000
HOTFILE fname=&#39;hotfile_20230102T000000.swn&#39; FREE
STOP
</pre></div></div>
</div>
</section>
</section>
<section id="Run-the-model">
<h2>Run the model<a class="headerlink" href="#Run-the-model" title="Link to this heading">#</a></h2>
<p>Todo</p>
</section>
<section id="Plot-outputs">
<h2>Plot outputs<a class="headerlink" href="#Plot-outputs" title="Link to this heading">#</a></h2>
<p>Todo</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Workspace-basepath">Workspace basepath</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Model-Grid">Model Grid</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Work-with-existing-data">Work with existing data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Bathy">Bathy</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Winds">Winds</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#SWAN-components">SWAN components</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CGRID">CGRID</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Startup">Startup</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Input-grids">Input grids</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Boundary">Boundary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Initial-conditions">Initial conditions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Physics">Physics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Propagation-scheme">Propagation scheme</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Numerics">Numerics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Output">Output</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Lockup">Lockup</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Instantiate-config">Instantiate config</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Generate-workspace">Generate workspace</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#Check-the-workspace">Check the workspace</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Run-the-model">Run the model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Plot-outputs">Plot outputs</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../../_sources/notebooks/swan/example_procedural.ipynb.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2021, CSIRO and rompy contributors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>